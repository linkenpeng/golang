{{template "header" .}}

{{template "navigation" .}}

<div class="container">
  <h1>分类列表</h1>
  <form method="GET" action="/category?op=add">
  	<input type="hidden" name="op" value="add">
	  <div class="form-group">
	    <label>分类名称</label>
	    <input class="form-control" id="name" placeholder="请输入分类名称" name="name">
	  </div>
	  <button type="submit" class="btn btn-default" onclick="return checkInput()">添加</button>
	</form>

	<script>
		function checkInput() {
			var $name = document.getElementById("name");
			if(!$name.value) {
				alert("请输入分类名称");
				return false;
			}
			return true;
		}
	</script>

	<table class="table table-striped">
		<thead>
			<tr>
				<th>#</th>
				<th>名称</th>
				<th>创建时间</th>
				<th>文章数</th>
				<th>操作</th>
			</tr>
		</thead>
		<tbody>
			{{range .Category}}
			<tr>
				<th>{{.Id}}</th>
				<th>{{.Title}}</th>
				<th>{{.Created}}</th>
				<th>{{.TopicCount}}</th>
				<th><a href="/category?op=del&id={{.Id}}">删除</a></th>
			</tr>
			{{end}}
		</tbody>
	</table>
</div>

{{template "footer" .}}